parameters:
    bigfoot_import.client.class: 'Bigfoot\Bundle\ImportBundle\Services\Client'
    bigfoot_import.csvparser.class: 'Bigfoot\Bundle\ImportBundle\Services\CsvParser'
    bigfoot_import.xmlmapper.class: 'Bigfoot\Bundle\ImportBundle\Services\DataMapper\XmlMapper'
    bigfoot_import.datasourcetype.class: 'Bigfoot\Bundle\ImportBundle\Form\DataSourceType'

services:
    bigfoot_import.client:
        class: '%bigfoot_import.client.class%'
    bigfoot_import.csvparser:
        class: '%bigfoot_import.csvparser.class%'
    bigfoot_import.xmlmapper:
        class: '%bigfoot_import.xmlmapper.class%'
    form.type.protocol:
        class: Bigfoot\Bundle\ImportBundle\Form\ProtocolType
        arguments:
            - "%import.datasource.protocols%"
        tags:
            - { name: form.type, alias: protocol }
    bigfoot_bundle_importbundle_datasourcetype:
        class: '%bigfoot_import.datasourcetype.class%'
        arguments: [@service_container]
        tags:
            - { name: form.type, alias: bigfoot_bundle_importbundle_datasourcetype}

    # Menu Subscriber
    bigfoot_import.subscriber.menu:
        class: Bigfoot\Bundle\ImportBundle\Subscriber\MenuSubscriber
        arguments:
            - @security.context
        tags:
            - { name: kernel.event_subscriber }